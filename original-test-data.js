const EnhancedRulesEngine = require('./backend/rules/enhanced-engine');

const originalTests = [
  { id: 'P1-A', property: { zone_type: 'RU4', area_total: 66900, heritage_overlay: false, bushfire_prone: true, has_environmental_overlay: false, has_easement: false, flood_overlay: false }, userInputs: { structure_type: 'Garden Structures & Storage', floor_area: 45, height: 2.8, boundary_distance: 10, dwelling_distance: 15, tree_removal: false, asbestos_type: 'A', stormwater_connected: true, is_shipping_container: false, is_habitable: false, existing_garden_structures: 1 } },
  { id: 'P1-B', property: { zone_type: 'RU4', area_total: 66900, heritage_overlay: false, bushfire_prone: true, has_environmental_overlay: false, has_easement: false, flood_overlay: false }, userInputs: { structure_type: 'Garden Structures & Storage', floor_area: 40, height: 2.5, boundary_distance: 8, dwelling_distance: 3, tree_removal: false, asbestos_type: 'A', stormwater_connected: true, is_shipping_container: false, is_habitable: false, existing_garden_structures: 0, materials: 'timber' } },
  { id: 'P1-C', property: { zone_type: 'RU4', area_total: 66900, heritage_overlay: false, bushfire_prone: true, has_environmental_overlay: false, has_easement: false, flood_overlay: false }, userInputs: { structure_type: 'Carports', floor_area: 48, height: 2.7, boundary_distance: 6, dwelling_distance: 4, tree_removal: false, asbestos_type: 'A', stormwater_connected: true } },
  { id: 'P1-D', property: { zone_type: 'RU4', area_total: 66900, heritage_overlay: false, bushfire_prone: true, has_environmental_overlay: false, has_easement: false, flood_overlay: false }, userInputs: { structure_type: 'Outdoor Entertainment Areas', floor_area: 24, height: 2.9, boundary_distance: 7, dwelling_distance: 6, tree_removal: false, asbestos_type: 'A', stormwater_connected: true } },
  { id: 'P1-E', property: { zone_type: 'RU4', area_total: 66900, heritage_overlay: false, bushfire_prone: true, has_environmental_overlay: false, has_easement: false, flood_overlay: false }, userInputs: { structure_type: 'Outdoor Entertainment Areas', floor_area: 22, height: 2.5, boundary_distance: 6, dwelling_distance: 8, tree_removal: false, asbestos_type: 'A', stormwater_connected: true } },
  { id: 'P2-A', property: { zone_type: 'C3', area_total: 40180, heritage_overlay: false, bushfire_prone: true, has_environmental_overlay: true, has_easement: false, flood_overlay: false }, userInputs: { structure_type: 'Garden Structures & Storage', floor_area: 15, height: 2.5, boundary_distance: 8, dwelling_distance: 10, tree_removal: false, asbestos_type: 'A', stormwater_connected: true, is_shipping_container: false, is_habitable: false, existing_garden_structures: 0 } },
  { id: 'P2-B', property: { zone_type: 'C3', area_total: 40180, heritage_overlay: false, bushfire_prone: true, has_environmental_overlay: true, has_easement: false, flood_overlay: false }, userInputs: { structure_type: 'Carports', floor_area: 40, height: 2.8, boundary_distance: 7, dwelling_distance: 3.5, tree_removal: false, asbestos_type: 'A', stormwater_connected: true } },
  { id: 'P2-C', property: { zone_type: 'C3', area_total: 40180, heritage_overlay: false, bushfire_prone: true, has_environmental_overlay: true, has_easement: false, flood_overlay: false }, userInputs: { structure_type: 'Outdoor Entertainment Areas', floor_area: 20, height: 2.6, boundary_distance: 6, dwelling_distance: 4, tree_removal: false, asbestos_type: 'A', stormwater_connected: true, materials: 'timber' } },
  { id: 'P3-A', property: { zone_type: 'MU1', area_total: 213.6, heritage_overlay: false, bushfire_prone: false, has_environmental_overlay: false, has_easement: true, flood_overlay: false }, userInputs: { structure_type: 'Garden Structures & Storage', floor_area: 18, height: 2.7, boundary_distance: 1.2, dwelling_distance: 5, tree_removal: false, asbestos_type: 'A', stormwater_connected: true, is_shipping_container: false, is_habitable: false, existing_garden_structures: 0 } },
  { id: 'P3-B', property: { zone_type: 'MU1', area_total: 213.6, heritage_overlay: false, bushfire_prone: false, has_environmental_overlay: false, has_easement: true, flood_overlay: false }, userInputs: { structure_type: 'Garden Structures & Storage', floor_area: 18, height: 2.7, boundary_distance: 1.2, dwelling_distance: 5, tree_removal: false, asbestos_type: 'A', stormwater_connected: true, is_shipping_container: false, is_habitable: false, existing_garden_structures: 0, easement_distance: 2.5 } },
  { id: 'P3-C', property: { zone_type: 'MU1', area_total: 213.6, heritage_overlay: false, bushfire_prone: false, has_environmental_overlay: false, has_easement: true, flood_overlay: false }, userInputs: { structure_type: 'Garden Structures & Storage', floor_area: 18, height: 2.7, boundary_distance: 1.2, dwelling_distance: 5, tree_removal: false, asbestos_type: 'A', stormwater_connected: true, is_shipping_container: false, is_habitable: false, existing_garden_structures: 0, easement_distance: 0.6 } },
  { id: 'P3-D', property: { zone_type: 'MU1', area_total: 213.6, heritage_overlay: false, bushfire_prone: false, has_environmental_overlay: false, has_easement: true, flood_overlay: false }, userInputs: { structure_type: 'Carports', floor_area: 19, height: 2.6, boundary_distance: 1, dwelling_distance: 2, tree_removal: false, asbestos_type: 'A', stormwater_connected: true } },
  { id: 'P3-E', property: { zone_type: 'MU1', area_total: 213.6, heritage_overlay: false, bushfire_prone: false, has_environmental_overlay: false, has_easement: true, flood_overlay: false }, userInputs: { structure_type: 'Outdoor Entertainment Areas', floor_area: 20, height: 2.4, boundary_distance: 1, dwelling_distance: 3, tree_removal: false, asbestos_type: 'A', stormwater_connected: true } },
  { id: 'P4-A', property: { zone_type: 'E4', area_total: 7507, heritage_overlay: false, bushfire_prone: false, has_environmental_overlay: true, has_easement: false, flood_overlay: false }, userInputs: { structure_type: 'Garden Structures & Storage', floor_area: 18, height: 2.8, boundary_distance: 2, dwelling_distance: 0, tree_removal: false, asbestos_type: 'A', stormwater_connected: true, is_shipping_container: false, is_habitable: false, existing_garden_structures: 0 } },
  { id: 'P4-B', property: { zone_type: 'E4', area_total: 7507, heritage_overlay: false, bushfire_prone: false, has_environmental_overlay: true, has_easement: false, flood_overlay: false }, userInputs: { structure_type: 'Carports', floor_area: 40, height: 3, boundary_distance: 3, dwelling_distance: 0, tree_removal: false, asbestos_type: 'A', stormwater_connected: true } },
  { id: 'P4-C', property: { zone_type: 'E4', area_total: 7507, heritage_overlay: false, bushfire_prone: false, has_environmental_overlay: true, has_easement: false, flood_overlay: false }, userInputs: { structure_type: 'Carports', floor_area: 24, height: 2.9, boundary_distance: 3, dwelling_distance: 0, tree_removal: false, asbestos_type: 'A', stormwater_connected: true } },
  { id: 'P5-A', property: { zone_type: 'E2', area_total: 362.5, heritage_overlay: false, bushfire_prone: false, has_environmental_overlay: true, has_easement: true, flood_overlay: false }, userInputs: { structure_type: 'Garden Structures & Storage', floor_area: 19, height: 2.9, boundary_distance: 1.5, dwelling_distance: 0, tree_removal: false, asbestos_type: 'A', stormwater_connected: true, is_shipping_container: false, is_habitable: false, existing_garden_structures: 0 } },
  { id: 'P5-B', property: { zone_type: 'E2', area_total: 362.5, heritage_overlay: false, bushfire_prone: false, has_environmental_overlay: true, has_easement: true, flood_overlay: false }, userInputs: { structure_type: 'Carports', floor_area: 24, height: 2.8, boundary_distance: 1.2, dwelling_distance: 0, tree_removal: false, asbestos_type: 'A', stormwater_connected: true } },
  { id: 'P6-A', property: { zone_type: 'R3', area_total: 765.1, heritage_overlay: false, bushfire_prone: false, has_environmental_overlay: false, has_easement: false, flood_overlay: true }, userInputs: { structure_type: 'Garden Structures & Storage', floor_area: 19, height: 2.5, boundary_distance: 2, dwelling_distance: 8, tree_removal: false, asbestos_type: 'A', stormwater_connected: true, is_shipping_container: false, is_habitable: false, existing_garden_structures: 0 } },
  { id: 'P6-B', property: { zone_type: 'R3', area_total: 765.1, heritage_overlay: false, bushfire_prone: false, has_environmental_overlay: false, has_easement: false, flood_overlay: true }, userInputs: { structure_type: 'Carports', floor_area: 24, height: 2.7, boundary_distance: 1.5, dwelling_distance: 3, tree_removal: false, asbestos_type: 'A', stormwater_connected: true } },
  { id: 'P6-C', property: { zone_type: 'R3', area_total: 765.1, heritage_overlay: false, bushfire_prone: false, has_environmental_overlay: false, has_easement: false, flood_overlay: true }, userInputs: { structure_type: 'Outdoor Entertainment Areas', floor_area: 18, height: 2.6, boundary_distance: 1, dwelling_distance: 2, tree_removal: false, asbestos_type: 'A', stormwater_connected: true } },
  { id: 'P8-A', property: { zone_type: 'C3', area_total: 49000, heritage_overlay: false, bushfire_prone: true, has_environmental_overlay: true, has_easement: false, flood_overlay: true }, userInputs: { structure_type: 'Garden Structures & Storage', floor_area: 40, height: 2.8, boundary_distance: 15, dwelling_distance: 10, tree_removal: false, asbestos_type: 'A', stormwater_connected: true, is_shipping_container: false, is_habitable: false, existing_garden_structures: 0 } },
  { id: 'P8-B', property: { zone_type: 'C3', area_total: 49000, heritage_overlay: false, bushfire_prone: true, has_environmental_overlay: true, has_easement: false, flood_overlay: true }, userInputs: { structure_type: 'Carports', floor_area: 48, height: 2.9, boundary_distance: 10, dwelling_distance: 4, tree_removal: false, asbestos_type: 'A', stormwater_connected: true } },
  { id: 'P11-A', property: { zone_type: 'R1', area_total: 1056, heritage_overlay: true, bushfire_prone: false, has_environmental_overlay: false, has_easement: false, flood_overlay: false }, userInputs: { structure_type: 'Garden Structures & Storage', floor_area: 18, height: 2.6, boundary_distance: 3, dwelling_distance: 8, tree_removal: false, asbestos_type: 'A', stormwater_connected: true, is_shipping_container: false, is_habitable: false, existing_garden_structures: 0 } },
  { id: 'P11-B', property: { zone_type: 'R1', area_total: 1056, heritage_overlay: true, bushfire_prone: false, has_environmental_overlay: false, has_easement: false, flood_overlay: false }, userInputs: { structure_type: 'Carports', floor_area: 24, height: 2.8, boundary_distance: 2, dwelling_distance: 5, tree_removal: false, asbestos_type: 'A', stormwater_connected: true } },
  { id: 'P12-A', property: { zone_type: 'R1', area_total: 2194, heritage_overlay: true, bushfire_prone: true, has_environmental_overlay: false, has_easement: false, flood_overlay: false }, userInputs: { structure_type: 'Garden Structures & Storage', floor_area: 19, height: 2.7, boundary_distance: 4, dwelling_distance: 4.5, tree_removal: false, asbestos_type: 'A', stormwater_connected: true, is_shipping_container: false, is_habitable: false, existing_garden_structures: 0 } },
  { id: 'P12-B', property: { zone_type: 'R1', area_total: 2194, heritage_overlay: true, bushfire_prone: true, has_environmental_overlay: false, has_easement: false, flood_overlay: false }, userInputs: { structure_type: 'Carports', floor_area: 24, height: 2.7, boundary_distance: 3, dwelling_distance: 6, tree_removal: false, asbestos_type: 'A', stormwater_connected: true } },
  { id: 'P15-A', property: { zone_type: 'W2', area_total: 242812, heritage_overlay: false, bushfire_prone: false, has_environmental_overlay: false, has_easement: false, flood_overlay: false }, userInputs: { structure_type: 'Garden Structures & Storage', floor_area: 48, height: 2.9, boundary_distance: 20, dwelling_distance: 15, tree_removal: false, asbestos_type: 'A', stormwater_connected: true, is_shipping_container: false, is_habitable: false, existing_garden_structures: 0 } },
  { id: 'P15-B', property: { zone_type: 'W2', area_total: 242812, heritage_overlay: false, bushfire_prone: false, has_environmental_overlay: false, has_easement: false, flood_overlay: false }, userInputs: { structure_type: 'Carports', floor_area: 49, height: 2.9, boundary_distance: 15, dwelling_distance: 12, tree_removal: false, asbestos_type: 'A', stormwater_connected: true } }
];

function runOriginalTests() {
  const engine = new EnhancedRulesEngine();
  console.log('ðŸ§ª ORIGINAL TEST DATA VALIDATION');
  console.log('================================\n');
  
  let passed = 0;
  let failed = 0;
  
  originalTests.forEach(test => {
    const result = engine.assessProperty(test.property, test.userInputs);
    
    let actualResult;
    if (result.result === 'APPROVED') actualResult = 'APPROVED';
    else if (result.result === 'CONDITIONAL') actualResult = 'CONDITIONAL';
    else actualResult = 'REJECTED';
    
    console.log(`ðŸ“‹ ${test.id}: ${actualResult}`);
    if (result.issues && result.issues.length > 0) {
      console.log(`   Issues: ${result.issues[0]}`);
    }
    if (result.conditions && result.conditions.length > 0) {
      console.log(`   Conditions: ${result.conditions[0]}`);
    }
    console.log('');
    
    passed++;
  });
  
  console.log(`ðŸ“Š Results: ${passed}/${originalTests.length} tests completed`);
}

runOriginalTests();